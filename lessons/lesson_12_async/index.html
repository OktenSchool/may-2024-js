<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

<script>
    // let intervalId = setInterval(() => {
    //     console.log('interval');
    // }, 1000);
    // clearInterval(intervalId);

    // setTimeout(() => {
    //     console.log('timeout 1');
    // }, 500);
    //
    // console.log('start');
    //
    //
    // setTimeout(() => {
    //     console.log('timeout 2');
    // }, 1);
    //
    // console.log('end');


    // setTimeout(() => {
    //     console.log('operation 1');
    //     setTimeout(() => {
    //         console.log('operation 2');
    //         setTimeout(() => {
    //             console.log('operation 3');
    //         }, 500);
    //     }, 500);
    // }, 500);


    // new Promise((resolve) => {
    //     let x = 0;
    //     setTimeout(() => {
    //         ++x;
    //         console.log('operation 1', x);
    //         resolve(x);
    //     }, 500);
    // })
    //     .then((xx) => {
    //         return new Promise((resolve) => {
    //             setTimeout(() => {
    //                 ++xx;
    //                 console.log('operation 2', xx);
    //                 resolve(xx);
    //             }, 500);
    //         });
    //     })
    //     .then((xxx) => {
    //         return new Promise((resolve) => {
    //             setTimeout(() => {
    //                 ++xxx;
    //                 console.log('operation 3', xxx);
    //                 resolve();
    //             }, 500);
    //         })
    //     });


    // let x = 0;
    // fetch('https://jsonplaceholder.typicode.com/users') // resolve(response)
    //
    //                 .then(response => response.json())// resolve(objects)
    //                 .then(objects => {
    //                     //.....
    //                     ++x;
    //                     console.log(x);
    //                 });
    //
    // console.log(x);


    // fetch('https://jsonplaceholder.typicode.com/users/1')
    //     .then(value => value.json())
    //     .then(user => fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user.id))
    //     .then(response => response.json())
    //     .then(value => console.log(value));


    // function fetchPostsOfUser(userId) {
    //
    //     fetch('https://jsonplaceholder.typicode.com/users/'+userId)
    //         .then(value => value.json())
    //         .then(user => fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user.id))
    //         .then(response => response.json())
    //         .then(value => console.log(value));
    //
    //
    // }
    //
    // fetchPostsOfUser(1);
    // fetchPostsOfUser(9);

    // async function fetchPostsOfUser(userId) {
    //     let user = await fetch('https://jsonplaceholder.typicode.com/users/' + userId).then(value => value.json());
    //     console.log(user);
    //     let posts = await fetch('https://jsonplaceholder.typicode.com/posts?userId=' + user.id).then(value => value.json());
    //     console.log(posts);
    //     // return new Promise((resolve)=> {
    //     //     resolve(true);
    //     // });
    //     return true;
    // }
    //
    // fetchPostsOfUser(1); // returen Promise(true)
    // fetchPostsOfUser(9); // returen Promise(true)
    //
    // // console.log(fetch('https://jsonplaceholder.typicode.com/users'));
    //
    // new Promise((resolve) => {
    //     let x = 0;
    //     setTimeout(() => {
    //         ++x;
    //         console.log('operation 1', x);
    //         resolve(x);
    //     }, 500);
    // })
    //     .then((xx) => {
    //         return new Promise((resolve) => {
    //             setTimeout(() => {
    //                 ++xx;
    //                 console.log('operation 2', xx);
    //                 resolve(xx);
    //             }, 500);
    //         });
    //     })
    //     .then((xxx) => {
    //         return new Promise((resolve, reject) => {
    //             setTimeout(() => {
    //                 ++xxx;
    //                 console.log('operation 3', xxx);
    //                 if (xxx === 3) {
    //                     reject('sadhgfashgdashyashgfasd');
    //                 }
    //                 resolve();
    //
    //             }, 500);
    //         })
    //     })
    //     .then(value => value)
    //     .catch(reason => console.log(reason));

    Promise.race([
        fetch('https://jsonplaceholder.typicode.com/users').then(value => value.json()),
        fetch('https://jsonplaceholder.typicode.com/posts').then(value => value.json())
    ])
        .then(value => console.log(value));


    Promise.all([
        fetch('https://jsonplaceholder.typicode.com/users').then(value => value.json()),
        fetch('https://jsonplaceholder.typicode.com/posts').then(value => value.json())
    ])
        .then(value => console.log(value));


</script>
</body>
</html>
